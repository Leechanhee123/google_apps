# Google Apps Script ê¸°ë°˜ ë¦¬ë“œ ìˆ˜ì§‘ ì‹œìŠ¤í…œ

ë¬´ë£Œ í˜¸ìŠ¤íŒ…(GitHub Pages) + Google Apps Script ë°±ì—”ë“œë¡œ ì™„ì „í•œ ì»¤ìŠ¤í…€ ë¦¬ë“œ ìˆ˜ì§‘ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

## ğŸŒŸ ì£¼ìš” íŠ¹ì§•

- âœ… **ë¬´ë£Œ í˜¸ìŠ¤íŒ…**: GitHub Pages
- âœ… **ì™„ì „í•œ ë””ìì¸ ììœ ë„**: HTML/CSS/JS ì»¤ìŠ¤í„°ë§ˆì´ì§•
- âœ… **CORS ë¬¸ì œ í•´ê²°**: Apps Script ì›¹ì•±
- âœ… **ì‹¤ì‹œê°„ ê²€ì¦**: í´ë¼ì´ì–¸íŠ¸/ì„œë²„ ì–‘ìª½ ê²€ì¦
- âœ… **ê´€ë¦¬ì ê¸°ëŠ¥**: ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ ë°ì´í„° ì¡°íšŒ
- âœ… **Google Sheets ì§ì ‘ ì—°ë™**: ë³„ë„ ì„œë²„ ë¶ˆí•„ìš”

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ (15ë¶„ ì„¤ì •)

### 1ë‹¨ê³„: Google Apps Script ì„¤ì •

1. **Google Apps Script í”„ë¡œì íŠ¸ ìƒì„±**
   - [script.google.com](https://script.google.com) ì ‘ì†
   - "ìƒˆ í”„ë¡œì íŠ¸" í´ë¦­

2. **ë°±ì—”ë“œ ì½”ë“œ ë³µì‚¬**
   - `backend/Code.gs` íŒŒì¼ ë‚´ìš©ì„ ë³µì‚¬
   - Apps Script ì—ë””í„°ì— ë¶™ì—¬ë„£ê¸°

3. **ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ìƒì„± ë° ì—°ê²°**
   ```javascript
   // Code.gs ìƒë‹¨ì—ì„œ ìˆ˜ì •
   const SPREADSHEET_ID = 'YOUR_ACTUAL_SPREADSHEET_ID_HERE';
   ```
   - ìƒˆ Google Sheets ìƒì„±
   - URLì—ì„œ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ID ë³µì‚¬
   - ìœ„ ì½”ë“œì—ì„œ `YOUR_ACTUAL_SPREADSHEET_ID_HERE` ë¶€ë¶„ êµì²´

4. **ì›¹ì•± ë°°í¬**
   - ìƒë‹¨ ë©”ë‰´: **ë°°í¬** â†’ **ìƒˆ ë°°í¬**
   - ìœ í˜•: **ì›¹ ì•±**
   - ì‹¤í–‰ ê¶Œí•œ: **ë³¸ì¸**
   - ì•¡ì„¸ìŠ¤ ê¶Œí•œ: **ëª¨ë“  ì‚¬ìš©ì**
   - **ë°°í¬** í´ë¦­
   - **ì›¹ ì•± URL ë³µì‚¬** (ì˜ˆ: `https://script.google.com/macros/s/...../exec`)

### 2ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì •

1. **GitHub ë¦¬í¬ì§€í† ë¦¬ ìƒì„±**
   - `frontend/` í´ë”ì˜ ëª¨ë“  íŒŒì¼ì„ ì—…ë¡œë“œ

2. **GitHub Pages í™œì„±í™”**
   - **Settings** â†’ **Pages**
   - **Source**: Deploy from a branch
   - **Branch**: main
   - **Folder**: / (root)

3. **API URL ì„¤ì •**
   - GitHub Pages URLë¡œ ì ‘ì†
   - í•˜ë‹¨ "ğŸ”§ Apps Script API ìƒíƒœ" ì„¹ì…˜
   - 1ë‹¨ê³„ì—ì„œ ë³µì‚¬í•œ ì›¹ì•± URL ì…ë ¥ í›„ ì €ì¥

### 3ë‹¨ê³„: í…ŒìŠ¤íŠ¸

1. **API ì—°ê²° í…ŒìŠ¤íŠ¸**
   - "API ì—°ê²° í…ŒìŠ¤íŠ¸" ë²„íŠ¼ í´ë¦­
   - âœ… ìƒíƒœ í™•ì¸

2. **í¼ ì œì¶œ í…ŒìŠ¤íŠ¸**
   - ìƒë‹¨ í¼ì—ì„œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì…ë ¥
   - ì œì¶œ í›„ Google Sheets í™•ì¸

3. **ê´€ë¦¬ì ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**
   - "ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ í´ë¦­
   - ì €ì¥ëœ ë¦¬ë“œ í™•ì¸

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
apps-script-version/
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ Code.gs             # Google Apps Script ë°±ì—”ë“œ ì½”ë“œ
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ index.html          # ë©”ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ styles.css      # Google Material Design ìŠ¤íƒ€ì¼
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ config.js       # ì„¤ì • ê´€ë¦¬
â”‚       â”œâ”€â”€ api.js          # API í†µì‹ 
â”‚       â””â”€â”€ app.js          # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§
â””â”€â”€ README.md               # ì´ íŒŒì¼
```

## âš™ï¸ ìƒì„¸ ì„¤ì •

### Apps Script ê¶Œí•œ ì„¤ì •

ì²« ë°°í¬ ì‹œ í•„ìš”í•œ ê¶Œí•œ:
- **Google Sheets API**: ë°ì´í„° ì½ê¸°/ì“°ê¸°
- **ì™¸ë¶€ URL ì•¡ì„¸ìŠ¤**: CORS í—¤ë” ì„¤ì •

### ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ì„¤ì •

ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” í—¤ë”:
- `Timestamp` - ì‹ ì²­ ì‹œê°
- `Name` - ì‹ ì²­ì ì´ë¦„
- `Phone` - ì—°ë½ì²˜
- `Service` - ê´€ì‹¬ ì„œë¹„ìŠ¤
- `ContactPreference` - í¬ë§ ìƒë‹´ ë°©ì‹
- `Memo` - ì¶”ê°€ ë©”ëª¨

### ë³´ì•ˆ ì„¤ì •

**í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ê¶Œì¥:**
```javascript
// Code.gsì—ì„œ íŠ¹ì • ë„ë©”ì¸ë§Œ í—ˆìš©
function createCORSResponse(data, status = 200) {
  const output = ContentService.createTextOutput(JSON.stringify(data));
  output.setMimeType(ContentService.MimeType.JSON);

  // íŠ¹ì • ë„ë©”ì¸ë§Œ í—ˆìš© (ì˜ˆì‹œ)
  // output.setHeader('Access-Control-Allow-Origin', 'https://yourdomain.github.io');

  return output;
}
```

## ğŸ¨ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ë¸Œëœë”© ë³€ê²½

**Apps Scriptì—ì„œ ì„¤ì • ë³€ê²½:**
```javascript
// Code.gsì˜ getConfig() í•¨ìˆ˜ì—ì„œ
branding: {
  brandName: 'ë‹¹ì‹ ì˜ ë¸Œëœë“œëª…',
  landingTitle: 'ë‹¹ì‹ ì˜ ëœë”© íƒ€ì´í‹€',
  landingSubtitle: 'ë‹¹ì‹ ì˜ ì„œë¸Œíƒ€ì´í‹€',
  footerText: 'ë‹¹ì‹ ì˜ í‘¸í„° í…ìŠ¤íŠ¸'
}
```

### í¼ í•„ë“œ ìˆ˜ì •

**ì„œë¹„ìŠ¤ ì˜µì…˜ ë³€ê²½:**
```javascript
service: {
  label: 'ê´€ì‹¬ ì„œë¹„ìŠ¤ *',
  options: [
    'ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ 1',
    'ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ 2',
    'ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ 3'
  ]
}
```

### ìŠ¤íƒ€ì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•

**CSS ë³€ìˆ˜ ìˆ˜ì • (`css/styles.css`):**
```css
:root {
  --primary-color: #your-brand-color;
  --primary-hover: #your-hover-color;
}
```

## ğŸ”§ ê³ ê¸‰ ê¸°ëŠ¥

### ì´ë©”ì¼ ì•Œë¦¼ ì¶”ê°€

Apps Scriptì—ì„œ ì´ë©”ì¼ ì•Œë¦¼:
```javascript
// submitLead í•¨ìˆ˜ì— ì¶”ê°€
function submitLead(data) {
  // ... ê¸°ì¡´ ì½”ë“œ ...

  // ì´ë©”ì¼ ì•Œë¦¼ ë°œì†¡
  MailApp.sendEmail({
    to: 'admin@yourdomain.com',
    subject: 'ìƒˆë¡œìš´ ë¦¬ë“œ ì ‘ìˆ˜',
    body: `ì´ë¦„: ${data.name}\nì—°ë½ì²˜: ${data.phone}\nì„œë¹„ìŠ¤: ${data.service}`
  });
}
```

### Slack ì•Œë¦¼ ì—°ë™

```javascript
function sendSlackNotification(leadData) {
  const webhook = 'YOUR_SLACK_WEBHOOK_URL';
  const payload = {
    text: `ìƒˆë¡œìš´ ë¦¬ë“œ: ${leadData.name} (${leadData.phone})`
  };

  UrlFetchApp.fetch(webhook, {
    method: 'POST',
    contentType: 'application/json',
    payload: JSON.stringify(payload)
  });
}
```

### ë°ì´í„° ê²€ì¦ ê°•í™”

```javascript
function validateLead(data) {
  const errors = [];

  // ì´ë¦„ ê²€ì¦
  if (!data.name || data.name.length < 2) {
    errors.push('ì´ë¦„ì€ 2ê¸€ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
  }

  // ì´ë©”ì¼ ê²€ì¦ (í•„ë“œ ì¶”ê°€ì‹œ)
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (data.email && !emailRegex.test(data.email)) {
    errors.push('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.');
  }

  return errors;
}
```

## ğŸ› ë¬¸ì œ í•´ê²°

### CORS ì˜¤ë¥˜
- Apps Script ì›¹ì•±ì´ "ëª¨ë“  ì‚¬ìš©ì" ê¶Œí•œìœ¼ë¡œ ë°°í¬ë˜ì—ˆëŠ”ì§€ í™•ì¸
- ìƒˆ ë°°í¬ë¡œ ë‹¤ì‹œ ì‹œë„

### ë°ì´í„°ê°€ ì €ì¥ë˜ì§€ ì•ŠìŒ
- ìŠ¤í”„ë ˆë“œì‹œíŠ¸ IDê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
- Apps Script ì‹¤í–‰ ê¶Œí•œ í™•ì¸
- ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ì—ì„œ ë„¤íŠ¸ì›Œí¬ íƒ­ í™•ì¸

### API ì—°ê²° ì‹¤íŒ¨
- ì›¹ì•± URLì´ `exec`ë¡œ ëë‚˜ëŠ”ì§€ í™•ì¸
- Apps Script í”„ë¡œì íŠ¸ê°€ ë°°í¬ë˜ì—ˆëŠ”ì§€ í™•ì¸

### GitHub Pages 404 ì˜¤ë¥˜
- `index.html`ì´ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ìˆëŠ”ì§€ í™•ì¸
- Pages ì„¤ì •ì—ì„œ ë¸Œëœì¹˜ì™€ í´ë” í™•ì¸

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### ìºì‹± ì „ëµ
- ì„¤ì • ì •ë³´ 5ë¶„ ìºì‹œ
- API ì‘ë‹µ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í™œìš©

### ë¡œë”© ìµœì í™”
- CSS/JS íŒŒì¼ ì••ì¶•
- ì´ë¯¸ì§€ ìµœì í™”
- ì§€ì—° ë¡œë”© êµ¬í˜„

## ğŸ”„ ì—…ë°ì´íŠ¸ ë° ë°°í¬

### ë°±ì—”ë“œ ì—…ë°ì´íŠ¸
1. Apps Script ì½”ë“œ ìˆ˜ì •
2. ìƒˆ ë°°í¬ ìƒì„±
3. í”„ë¡ íŠ¸ì—”ë“œ API URL ì—…ë°ì´íŠ¸ (í•„ìš”ì‹œ)

### í”„ë¡ íŠ¸ì—”ë“œ ì—…ë°ì´íŠ¸
1. GitHubì— ì½”ë“œ í‘¸ì‹œ
2. GitHub Pages ìë™ ë°°í¬

## ğŸ“ˆ í™•ì¥ ì•„ì´ë””ì–´

- **ë‹¤êµ­ì–´ ì§€ì›**: i18n ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
- **A/B í…ŒìŠ¤íŠ¸**: ì—¬ëŸ¬ í¼ ë””ìì¸ í…ŒìŠ¤íŠ¸
- **ë¶„ì„ ì—°ë™**: Google Analytics ì¶”ê°€
- **ì±—ë´‡ ì—°ë™**: ì‹¤ì‹œê°„ ìƒë‹´ ê¸°ëŠ¥
- **ê²°ì œ ì—°ë™**: Stripe/PayPal ê²°ì œ í¼

## ğŸ†š ë‹¤ë¥¸ ë²„ì „ê³¼ ë¹„êµ

| ê¸°ëŠ¥ | Apps Script ë²„ì „ | Node.js ë²„ì „ | ì •ì  ë²„ì „ |
|------|------------------|--------------|-----------|
| **í˜¸ìŠ¤íŒ… ë¹„ìš©** | ë¬´ë£Œ | ìœ ë£Œ | ë¬´ë£Œ |
| **ì»¤ìŠ¤í„°ë§ˆì´ì§•** | ë†’ìŒ | ë§¤ìš° ë†’ìŒ | ë‚®ìŒ |
| **ì„¤ì • ë³µì¡ë„** | ì¤‘ê°„ | ë†’ìŒ | ë‚®ìŒ |
| **CORS í•´ê²°** | âœ… | âœ… | âŒ |
| **ì‹¤ì‹œê°„ ê²€ì¦** | âœ… | âœ… | âŒ |
| **ê´€ë¦¬ì ê¸°ëŠ¥** | âœ… | âœ… | âŒ |

## ğŸ¤ ì§€ì› ë° ê¸°ì—¬

ì´ìŠˆë‚˜ ê°œì„  ì œì•ˆì€ GitHub Issuesë¥¼ í†µí•´ ì œì¶œí•´ì£¼ì„¸ìš”.

## ğŸ“„ ë¼ì´ì„¼ìŠ¤

MIT License - ììœ ë¡­ê²Œ ì‚¬ìš©í•˜ì„¸ìš”!